<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç€‘å¸ƒæµå¸ƒå±€ä¿®å¤æµ‹è¯•</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .test-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .test-header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .status-info {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .status-info h3 {
            color: #333;
            margin-bottom: 15px;
        }
        
        .status-item {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        
        .status-item:last-child {
            border-bottom: none;
        }
        
        .status-label {
            font-weight: bold;
            color: #555;
        }
        
        .status-value {
            color: #28a745;
            font-weight: 600;
        }
        
        .error {
            color: #dc3545;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="test-header">
            <h1>ğŸ”§ ç€‘å¸ƒæµå¸ƒå±€ä¿®å¤æµ‹è¯•</h1>
            <p>éªŒè¯æ¨¡å—æ˜¾ç¤ºå’Œæœç´¢åŠŸèƒ½</p>
        </div>
        
        <div class="status-info">
            <h3>ğŸ“Š ç³»ç»ŸçŠ¶æ€</h3>
            <div class="status-item">
                <span class="status-label">é¡µé¢åŠ è½½æ—¶é—´:</span>
                <span class="status-value" id="loadTime">è®¡ç®—ä¸­...</span>
            </div>
            <div class="status-item">
                <span class="status-label">æ¨¡å—æ€»æ•°:</span>
                <span class="status-value" id="moduleCount">è®¡ç®—ä¸­...</span>
            </div>
            <div class="status-item">
                <span class="status-label">å¯è§æ¨¡å—æ•°:</span>
                <span class="status-value" id="visibleCount">è®¡ç®—ä¸­...</span>
            </div>
            <div class="status-item">
                <span class="status-label">ç€‘å¸ƒæµçŠ¶æ€:</span>
                <span class="status-value" id="waterfallStatus">æ­£å¸¸</span>
            </div>
            <div class="status-item">
                <span class="status-label">å¸ƒå±€ç±»å‹:</span>
                <span class="status-value" id="layoutType">æ£€æµ‹ä¸­...</span>
            </div>
        </div>
        
        <div class="form-container" id="testContainer">
            <!-- æµ‹è¯•æ¨¡å— -->
            <div class="section">
                <h3><span class="section-icon">1</span>æ•°æ®æ£€ç´¢åŸºç¡€ä¿¡æ¯</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>æ•°æ®åº“æ¥æº</label>
                        <input type="text" placeholder="æµ‹è¯•è¾“å…¥">
                    </div>
                    <div class="form-group">
                        <label>æ£€ç´¢ç­–ç•¥</label>
                        <textarea placeholder="æµ‹è¯•æ–‡æœ¬åŒºåŸŸ"></textarea>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h3><span class="section-icon">2</span>å¹´å‘æ–‡é‡è¶‹åŠ¿åˆ†æ</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>èµ·æ­¥æœŸ</label>
                        <input type="text" placeholder="2010-2015">
                    </div>
                    <div class="form-group">
                        <label>æˆé•¿æœŸ</label>
                        <input type="text" placeholder="2016-2020">
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h3><span class="section-icon">3</span>å›½å®¶/åœ°åŒºåˆ†å¸ƒ</h3>
                <div class="stats-row">
                    <div class="stats-item">
                        <div class="stats-label">å‚ä¸å›½å®¶æ€»æ•°</div>
                        <input type="number" class="stats-input" placeholder="0">
                    </div>
                    <div class="stats-item">
                        <div class="stats-label">å›½é™…åˆä½œæ–‡çŒ®</div>
                        <input type="number" class="stats-input" placeholder="0">
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h3><span class="section-icon">4</span>æœŸåˆŠåˆ†å¸ƒ</h3>
                <div class="ranking-group">
                    <div class="ranking-title">ğŸ“š æœŸåˆŠæ’å</div>
                    <div class="ranking-item">
                        <div class="rank-number">1</div>
                        <input type="text" placeholder="æœŸåˆŠåç§°">
                        <input type="number" placeholder="0">
                        <input type="number" step="0.01" placeholder="0.00">
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h3><span class="section-icon">5</span>æœºæ„åˆ†å¸ƒ</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>æœºæ„æ€»æ•°</label>
                        <input type="number" placeholder="0">
                    </div>
                    <div class="form-group">
                        <label>é«˜äº§æœºæ„</label>
                        <input type="number" placeholder="0">
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h3><span class="section-icon">6</span>ä½œè€…åˆ†æ</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>ä½œè€…æ€»æ•°</label>
                        <input type="number" placeholder="0">
                    </div>
                    <div class="form-group">
                        <label>é«˜äº§ä½œè€…</label>
                        <input type="number" placeholder="0">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // é¡µé¢åŠ è½½æ—¶é—´è®¡ç®—
        const startTime = performance.now();
        
        // çŠ¶æ€æ›´æ–°å‡½æ•°
        function updateStatus() {
            const loadTime = ((performance.now() - startTime) / 1000).toFixed(2);
            document.getElementById('loadTime').textContent = loadTime + 'ç§’';
            
            const sections = document.querySelectorAll('.section');
            document.getElementById('moduleCount').textContent = sections.length;
            
            const visibleSections = Array.from(sections).filter(section => 
                section.style.display !== 'none' && section.offsetParent !== null
            );
            document.getElementById('visibleCount').textContent = visibleSections.length;
            
            const container = document.getElementById('testContainer');
            const computedStyle = window.getComputedStyle(container);
            document.getElementById('layoutType').textContent = computedStyle.display;
            
            // æ£€æŸ¥ç€‘å¸ƒæµå¸ƒå±€çŠ¶æ€
            const container = document.getElementById('testContainer');
            const computedStyle = window.getComputedStyle(container);
            if (computedStyle.display === 'grid') {
                document.getElementById('waterfallStatus').textContent = 'æ­£å¸¸';
                document.getElementById('waterfallStatus').className = 'status-value';
            } else {
                document.getElementById('waterfallStatus').textContent = 'å¼‚å¸¸';
                document.getElementById('waterfallStatus').className = 'error';
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('é¡µé¢åŠ è½½å®Œæˆ');
            updateStatus();
            
            // æ¯ç§’æ›´æ–°ä¸€æ¬¡çŠ¶æ€
            setInterval(updateStatus, 1000);
            
            // ç›‘å¬æ¨¡å—æ˜¾ç¤ºçŠ¶æ€å˜åŒ–
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    if (mutation.type === 'attributes' && mutation.attributeName === 'style') {
                        updateStatus();
                    }
                });
            });
            
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                observer.observe(section, {
                    attributes: true,
                    attributeFilter: ['style']
                });
            });
        });
        
        // ç›‘å¬çª—å£å¤§å°å˜åŒ–
        window.addEventListener('resize', function() {
            setTimeout(updateStatus, 100);
        });
    </script>
</body>
</html>
