<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>核心引文模块测试</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>📖 核心引文模块测试</h1>
        <p>此页面用于测试核心引文模块的字段映射和数据展示功能</p>
        
        <!-- 核心引文 -->
        <div class="section">
            <h3><span class="section-icon">11</span>核心引文</h3>
            <div class="stats-row">
                <div class="stats-item">
                    <div class="stats-label">高被引文献总数(≥10次)</div>
                    <input type="number" class="stats-input" data-field-id="high_cited_papers_total" placeholder="0">
                </div>
            </div>
            <div class="ranking-group">
                <div class="ranking-title">📖 高被引文献</div>
                <div class="ranking-item" style="font-weight: bold; background: #f8f9fa;">
                    <div>排名</div>
                    <div>作者及年份</div>
                    <div>被引频次</div>
                    <div>期刊名称</div>
                    <div>中心性</div>
                </div>
                <div class="ranking-item">
                    <div class="rank-number">1</div>
                    <input type="text" data-field-id="citation_1_author_year" placeholder="作者, 年份">
                    <input type="number" data-field-id="citation_1_frequency" placeholder="0">
                    <input type="text" data-field-id="citation_1_journal" placeholder="期刊名称">
                    <input type="number" step="0.001" data-field-id="citation_1_centrality" placeholder="0.000">
                </div>
                <div class="ranking-item">
                    <div class="rank-number">2</div>
                    <input type="text" data-field-id="citation_2_author_year" placeholder="作者, 年份">
                    <input type="number" data-field-id="citation_2_frequency" placeholder="0">
                    <input type="text" data-field-id="citation_2_journal" placeholder="期刊名称">
                    <input type="number" step="0.001" data-field-id="citation_2_centrality" placeholder="0.000">
                </div>
                <div class="ranking-item">
                    <div class="rank-number">3</div>
                    <input type="text" data-field-id="citation_3_author_year" placeholder="作者, 年份">
                    <input type="number" data-field-id="citation_3_frequency" placeholder="0">
                    <input type="text" data-field-id="citation_3_journal" placeholder="期刊名称">
                    <input type="number" step="0.001" data-field-id="citation_3_centrality" placeholder="0.000">
                </div>
                <div class="ranking-item">
                    <div class="rank-number">4</div>
                    <input type="text" data-field-id="citation_4_author_year" placeholder="作者, 年份">
                    <input type="number" data-field-id="citation_4_frequency" placeholder="0">
                    <input type="text" data-field-id="citation_4_journal" placeholder="期刊名称">
                    <input type="number" step="0.001" data-field-id="citation_4_centrality" placeholder="0.000">
                </div>
                <div class="ranking-item">
                    <div class="rank-number">5</div>
                    <input type="text" data-field-id="citation_5_author_year" placeholder="作者, 年份">
                    <input type="number" data-field-id="citation_5_frequency" placeholder="0">
                    <input type="text" data-field-id="citation_5_journal" placeholder="期刊名称">
                    <input type="number" step="0.001" data-field-id="citation_5_centrality" placeholder="0.000">
                </div>
                <div class="ranking-item">
                    <div class="rank-number">6</div>
                    <input type="text" data-field-id="citation_6_author_year" placeholder="作者, 年份">
                    <input type="number" data-field-id="citation_6_frequency" placeholder="0">
                    <input type="text" data-field-id="citation_6_journal" placeholder="期刊名称">
                    <input type="number" step="0.001" data-field-id="citation_6_centrality" placeholder="0.000">
                </div>
                <div class="ranking-item">
                    <div class="rank-number">7</div>
                    <input type="text" data-field-id="citation_7_author_year" placeholder="作者, 年份">
                    <input type="number" data-field-id="citation_7_frequency" placeholder="0">
                    <input type="text" data-field-id="citation_7_journal" placeholder="期刊名称">
                    <input type="number" step="0.001" data-field-id="citation_7_centrality" placeholder="0.000">
                </div>
                <div class="ranking-item">
                    <div class="rank-number">8</div>
                    <input type="text" data-field-id="citation_8_author_year" placeholder="作者, 年份">
                    <input type="number" data-field-id="citation_8_frequency" placeholder="0">
                    <input type="text" data-field-id="citation_8_journal" placeholder="期刊名称">
                    <input type="number" step="0.001" data-field-id="citation_8_centrality" placeholder="0.000">
                </div>
                <div class="ranking-item">
                    <div class="rank-number">9</div>
                    <input type="text" data-field-id="citation_9_author_year" placeholder="作者, 年份">
                    <input type="number" data-field-id="citation_9_frequency" placeholder="0">
                    <input type="text" data-field-id="citation_9_journal" placeholder="期刊名称">
                    <input type="number" step="0.001" data-field-id="citation_9_centrality" placeholder="0.000">
                </div>
                <div class="ranking-item">
                    <div class="rank-number">10</div>
                    <input type="text" data-field-id="citation_10_author_year" placeholder="作者, 年份">
                    <input type="number" data-field-id="citation_10_frequency" placeholder="0">
                    <input type="text" data-field-id="citation_10_journal" placeholder="期刊名称">
                    <input type="number" step="0.001" data-field-id="citation_10_centrality" placeholder="0.000">
                </div>
                <div class="ranking-item">
                    <div class="rank-number">11</div>
                    <input type="text" data-field-id="citation_11_author_year" placeholder="作者, 年份">
                    <input type="number" data-field-id="citation_11_frequency" placeholder="0">
                    <input type="text" data-field-id="citation_11_journal" placeholder="期刊名称">
                    <input type="number" step="0.001" data-field-id="citation_11_centrality" placeholder="0.000">
                </div>
                <div class="ranking-item">
                    <div class="rank-number">12</div>
                    <input type="text" data-field-id="citation_12_author_year" placeholder="作者, 年份">
                    <input type="number" data-field-id="citation_12_frequency" placeholder="0">
                    <input type="text" data-field-id="citation_12_journal" placeholder="期刊名称">
                    <input type="number" step="0.001" data-field-id="citation_12_centrality" placeholder="0.000">
                </div>
                <div class="ranking-item">
                    <div class="rank-number">13</div>
                    <input type="text" data-field-id="citation_13_author_year" placeholder="作者, 年份">
                    <input type="number" data-field-id="citation_13_frequency" placeholder="0">
                    <input type="text" data-field-id="citation_13_journal" placeholder="期刊名称">
                    <input type="number" step="0.001" data-field-id="citation_13_centrality" placeholder="0.000">
                </div>
                <div class="ranking-item">
                    <div class="rank-number">14</div>
                    <input type="text" data-field-id="citation_14_author_year" placeholder="作者, 年份">
                    <input type="number" data-field-id="citation_14_frequency" placeholder="0">
                    <input type="text" data-field-id="citation_14_journal" placeholder="期刊名称">
                    <input type="number" step="0.001" data-field-id="citation_14_centrality" placeholder="0.000">
                </div>
                <div class="ranking-item">
                    <div class="rank-number">15</div>
                    <input type="text" data-field-id="citation_15_author_year" placeholder="作者, 年份">
                    <input type="number" data-field-id="citation_15_frequency" placeholder="0">
                    <input type="text" data-field-id="citation_15_journal" placeholder="期刊名称">
                    <input type="number" step="0.001" data-field-id="citation_15_centrality" placeholder="0.000">
                </div>
                <div class="ranking-item">
                    <div class="rank-number">16</div>
                    <input type="text" data-field-id="citation_16_author_year" placeholder="作者, 年份">
                    <input type="number" data-field-id="citation_16_frequency" placeholder="0">
                    <input type="text" data-field-id="citation_16_journal" placeholder="期刊名称">
                    <input type="number" step="0.001" data-field-id="citation_16_centrality" placeholder="0.000">
                </div>
                <div class="ranking-item">
                    <div class="rank-number">17</div>
                    <input type="text" data-field-id="citation_17_author_year" placeholder="作者, 年份">
                    <input type="number" data-field-id="citation_17_frequency" placeholder="0">
                    <input type="text" data-field-id="citation_17_journal" placeholder="期刊名称">
                    <input type="number" step="0.001" data-field-id="citation_17_centrality" placeholder="0.000">
                </div>
                <div class="ranking-item">
                    <div class="rank-number">18</div>
                    <input type="text" data-field-id="citation_18_author_year" placeholder="作者, 年份">
                    <input type="number" data-field-id="citation_18_frequency" placeholder="0">
                    <input type="text" data-field-id="citation_18_journal" placeholder="期刊名称">
                    <input type="number" step="0.001" data-field-id="citation_18_centrality" placeholder="0.000">
                </div>
                <div class="ranking-item">
                    <div class="rank-number">19</div>
                    <input type="text" data-field-id="citation_19_author_year" placeholder="作者, 年份">
                    <input type="number" data-field-id="citation_19_frequency" placeholder="0">
                    <input type="text" data-field-id="citation_19_journal" placeholder="期刊名称">
                    <input type="number" step="0.001" data-field-id="citation_19_centrality" placeholder="0.000">
                </div>
                <div class="ranking-item">
                    <div class="rank-number">20</div>
                    <input type="text" data-field-id="citation_20_author_year" placeholder="作者, 年份">
                    <input type="number" data-field-id="citation_20_frequency" placeholder="0">
                    <input type="text" data-field-id="citation_20_journal" placeholder="期刊名称">
                    <input type="number" step="0.001" data-field-id="citation_20_centrality" placeholder="0.000">
                </div>
            </div>
        </div>
        
        <div class="test-controls">
            <button onclick="loadTestData()" class="btn btn-primary">加载测试数据</button>
            <button onclick="clearData()" class="btn btn-secondary">清空数据</button>
            <button onclick="window.location.href='index.html'" class="btn btn-outline">返回主页</button>
        </div>
    </div>

    <script>
        // 测试数据 - 基于用户提供的图片数据
        const testData = {
            "high_cited_papers_total": 20,
            "citation_1_author_year": "Schon DA, 2017",
            "citation_1_frequency": 48,
            "citation_1_centrality": 0.46,
            "citation_2_author_year": "Luka I, 2020",
            "citation_2_frequency": 34,
            "citation_2_centrality": 0.06,
            "citation_3_author_year": "Micheli P, 2019",
            "citation_3_frequency": 33,
            "citation_3_centrality": 0.06,
            "citation_4_author_year": "Panke S, 2019",
            "citation_4_frequency": 25,
            "citation_4_centrality": 0.06,
            "citation_5_author_year": "Wrigley C, 2017",
            "citation_5_frequency": 25,
            "citation_5_centrality": 0.19,
            "citation_6_author_year": "Li Y, 2019",
            "citation_6_frequency": 24,
            "citation_6_centrality": 0.12,
            "citation_7_author_year": "Henriksen D, 2017",
            "citation_7_frequency": 21,
            "citation_7_centrality": 0.01,
            "citation_8_author_year": "Lin L, 2020",
            "citation_8_frequency": 21,
            "citation_8_centrality": 0.03,
            "citation_9_author_year": "Pande M, 2020",
            "citation_9_frequency": 21,
            "citation_9_centrality": 0.03,
            "citation_10_author_year": "Cook KL, 2018",
            "citation_10_frequency": 20,
            "citation_10_centrality": 0.03,
            "citation_11_author_year": "Saldana J, 2021",
            "citation_11_frequency": 18,
            "citation_11_centrality": 0.02,
            "citation_12_author_year": "McLaughlin JE, 2019",
            "citation_12_frequency": 16,
            "citation_12_centrality": 0.01,
            "citation_13_author_year": "Mosely G, 2018",
            "citation_13_frequency": 16,
            "citation_13_centrality": 0.02,
            "citation_14_author_year": "Henriksen D, 2020",
            "citation_14_frequency": 15,
            "citation_14_centrality": 0.01,
            "citation_15_author_year": "Guaman-Quintanilla S, 2023",
            "citation_15_frequency": 15,
            "citation_15_centrality": 0.02,
            "citation_16_author_year": "Chin DB, 2019",
            "citation_16_frequency": 15,
            "citation_16_centrality": 0.22,
            "citation_17_author_year": "Creswell JW, 2018",
            "citation_17_frequency": 14,
            "citation_17_centrality": 0.00,
            "citation_18_author_year": "Sarooghi H, 2019",
            "citation_18_frequency": 13,
            "citation_18_centrality": 0.01,
            "citation_19_author_year": "Tsai MJ, 2021",
            "citation_19_frequency": 11,
            "citation_19_centrality": 0.02,
            "citation_20_author_year": "Glen R, 2014",
            "citation_20_frequency": 11,
            "citation_20_centrality": 0.03
        };

        function loadTestData() {
            // 应用测试数据到表单字段
            Object.keys(testData).forEach(fieldId => {
                const element = document.querySelector(`[data-field-id="${fieldId}"]`);
                if (element) {
                    element.value = testData[fieldId];
                    element.style.backgroundColor = '#e8f5e8';
                }
            });
            
            // 显示成功消息
            showMessage('测试数据已加载成功！', 'success');
        }

        function clearData() {
            // 清空所有输入字段
            document.querySelectorAll('[data-field-id]').forEach(element => {
                element.value = '';
                element.style.backgroundColor = '';
            });
            
            showMessage('数据已清空！', 'info');
        }

        function showMessage(message, type) {
            // 创建消息提示
            const messageDiv = document.createElement('div');
            messageDiv.textContent = message;
            messageDiv.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px 20px;
                border-radius: 5px;
                color: white;
                font-weight: bold;
                z-index: 1000;
                background-color: ${type === 'success' ? '#28a745' : '#17a2b8'};
            `;
            
            document.body.appendChild(messageDiv);
            
            // 3秒后自动移除
            setTimeout(() => {
                if (messageDiv.parentNode) {
                    messageDiv.parentNode.removeChild(messageDiv);
                }
            }, 3000);
        }

        // 页面加载时自动加载测试数据
        window.addEventListener('load', () => {
            setTimeout(loadTestData, 500);
        });
    </script>
</body>
</html>
