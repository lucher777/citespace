<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¨¡å—æ˜¾ç¤ºè°ƒè¯•</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .debug-info {
            background: #f8f9fa;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            border-left: 4px solid #007bff;
        }
        .debug-item {
            margin: 10px 0;
            padding: 8px;
            background: white;
            border-radius: 4px;
        }
        .error { color: #dc3545; }
        .success { color: #28a745; }
        .warning { color: #ffc107; }
    </style>
</head>
<body>
    <div class="container">
        <div class="debug-info">
            <h3>ğŸ” æ¨¡å—æ˜¾ç¤ºè°ƒè¯•</h3>
            <div class="debug-item">
                <strong>é¡µé¢åŠ è½½æ—¶é—´:</strong> <span id="loadTime">è®¡ç®—ä¸­...</span>
            </div>
            <div class="debug-item">
                <strong>æ¨¡å—æ€»æ•°:</strong> <span id="moduleCount">è®¡ç®—ä¸­...</span>
            </div>
            <div class="debug-item">
                <strong>å¯è§æ¨¡å—æ•°:</strong> <span id="visibleCount">è®¡ç®—ä¸­...</span>
            </div>
            <div class="debug-item">
                <strong>å®¹å™¨æ˜¾ç¤ºçŠ¶æ€:</strong> <span id="containerDisplay">æ£€æµ‹ä¸­...</span>
            </div>
            <div class="debug-item">
                <strong>ç€‘å¸ƒæµçŠ¶æ€:</strong> <span id="waterfallStatus">æ£€æµ‹ä¸­...</span>
            </div>
            <div class="debug-item">
                <strong>åˆå§‹åŒ–çŠ¶æ€:</strong> <span id="initStatus">ç­‰å¾…ä¸­...</span>
            </div>
        </div>
        
        <div class="form-container" id="testContainer">
            <!-- æµ‹è¯•æ¨¡å— -->
            <div class="section">
                <h3><span class="section-icon">1</span>æµ‹è¯•æ¨¡å—1</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>æµ‹è¯•è¾“å…¥</label>
                        <input type="text" placeholder="æµ‹è¯•">
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h3><span class="section-icon">2</span>æµ‹è¯•æ¨¡å—2</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>æµ‹è¯•è¾“å…¥</label>
                        <input type="text" placeholder="æµ‹è¯•">
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h3><span class="section-icon">3</span>æµ‹è¯•æ¨¡å—3</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>æµ‹è¯•è¾“å…¥</label>
                        <input type="text" placeholder="æµ‹è¯•">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const startTime = performance.now();
        
        function updateDebugInfo() {
            const loadTime = ((performance.now() - startTime) / 1000).toFixed(2);
            document.getElementById('loadTime').textContent = loadTime + 'ç§’';
            
            const sections = document.querySelectorAll('.section');
            document.getElementById('moduleCount').textContent = sections.length;
            
            const visibleSections = Array.from(sections).filter(section => 
                section.style.display !== 'none' && section.offsetParent !== null
            );
            document.getElementById('visibleCount').textContent = visibleSections.length;
            
            const container = document.getElementById('testContainer');
            const computedStyle = window.getComputedStyle(container);
            document.getElementById('containerDisplay').textContent = computedStyle.display;
            
            if (computedStyle.display === 'grid') {
                document.getElementById('waterfallStatus').textContent = 'æ­£å¸¸';
                document.getElementById('waterfallStatus').className = 'success';
            } else {
                document.getElementById('waterfallStatus').textContent = 'å¼‚å¸¸: ' + computedStyle.display;
                document.getElementById('waterfallStatus').className = 'error';
            }
            
            // æ£€æŸ¥åˆå§‹åŒ–çŠ¶æ€
            if (typeof initWaterfallFeatures === 'function') {
                document.getElementById('initStatus').textContent = 'å‡½æ•°å­˜åœ¨';
                document.getElementById('initStatus').className = 'success';
            } else {
                document.getElementById('initStatus').textContent = 'å‡½æ•°ä¸å­˜åœ¨';
                document.getElementById('initStatus').className = 'error';
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('é¡µé¢åŠ è½½å®Œæˆ');
            updateDebugInfo();
            
            // æ¯ç§’æ›´æ–°ä¸€æ¬¡çŠ¶æ€
            setInterval(updateDebugInfo, 1000);
            
            // å°è¯•æ‰‹åŠ¨åˆå§‹åŒ–ç€‘å¸ƒæµ
            setTimeout(() => {
                if (typeof initWaterfallFeatures === 'function') {
                    console.log('æ‰‹åŠ¨è°ƒç”¨ç€‘å¸ƒæµåˆå§‹åŒ–');
                    initWaterfallFeatures();
                } else {
                    console.log('ç€‘å¸ƒæµåˆå§‹åŒ–å‡½æ•°ä¸å­˜åœ¨');
                }
            }, 1000);
        });
    </script>
    
    <!-- å¼•å…¥ä¸»è„šæœ¬ -->
    <script src="main.js"></script>
</body>
</html>
